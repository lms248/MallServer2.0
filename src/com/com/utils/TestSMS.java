package com.utils;

import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.List;
import java.util.Map;

import common.utils.MD5;

import java.util.Date;
import java.util.LinkedHashMap;



/**
 * 测试方法不用多线程也可以
 */
class TestSMS extends Thread {
    private String name;
    public TestSMS() {
 
    }
 
    public TestSMS(String name) {
        this.name = name;
    }
    private static List<TestSMS> runningThreads = new ArrayList<TestSMS>();
    
    public void regist(TestSMS t){  
        synchronized(runningThreads){   
            runningThreads.add(t);
        }  
    }
 
    public void run() {
		//测试变量短信，多号码多内容
    	String mobile = "13832153729,15140935964,13468460453,13998227421,13710578179,13410284373,13713695255,13862869445,13429080915,13518672433,15998861519,18245884204,15172595059,13818649920,13437270118,13921213163,15828620112,13754458291,13654061506,13738120839,15854443512,15869332691,18355331996,13728780537,15011147630,15159118829,13840235693,13435405370,18282941606,13977930826,15863132256,18813910955,15879255785,15948763325,15706851107,13982043722,15086668300,13669720091,15155552270,13555253099,15863275951,18771511702,15296019052,13791663262,15204208331,13889540603,18708130336,13531307561,15161968648,15140028637,13634677728,13633619343,13960668983,15895542290,15867823343,18741097717,13806139662,18353685327,18715599897,13454573737,13981826731,13714759694,15106916877,13921503544,18853100153,18243086310,15993839616,13615966587,15268236077,18382631588,13847275840,15846394439,18777165276,15848865230,15221213104,15955379969,13672228786,15136968899,15041475402,18761250033,13821610662,18869416945,15165857094,15889610976,15928645712,13912123941,13811599658,18202127858,13543316031,13751190935,13824122175,15906507807,18382143550,13568624325,13845471341,13735533437,15983696806,13844247308,13813605121,18726462176,15234552555,13414967779,15287178640,13523326831,18275066080,18850017594,13504478210,15008197200,18722044645,13916209604,13876185723,13875750276,13472214841,15968286464,18384271295,13551020147,13601862440,15141226470,18383002396,18765695196,18307798969,18275081029,15018737697,18340793186,13862749009,13993755808,15041606233,15927327301,15862585881,15807739920,13919083733,15850028261,18712651010,15039531735,15982835142,13477511230,15061661020,15136366341,15258122520,15043787562,15736679649,18810974188,15252039775,13897418836,13402292578,18872287487,13639830146,13852119894,13639280767,13598351811,15040228098,13936462679,13439765898,15195320860,15202194869,18791119692,18737823556,13664184221,13641562233,15858468639,15985699043,13776404904,18811090621,18756218685,13941612238,15946550588,13517194552,15924767265,13880269231,13557445353,15214664431,13528580106,15122211450,13508831526,18390361518,18852404525,15161546750,18326886609,15700095659,15104273798,18801182781,13878970399,13875135625,15771866260,15902188095,13566658808,15801927008,13905198788,13576154053,18206558768,13718723618,13912483880,13819243736,15268222766,15888162574,13941238849,13883525156,18827919260,15164387539,15802492545,15242788080,15181286145,13452312481,18365697929,15863440995,13899382222,13956251932,13602542055,18301751917,15069340409,13842052457,15904201500,15055972370,13789931931,13591352852,17865679875,15871225633,18721390053,15161722843,13821701961,15845405932,15039282359,13962099658,15195350329,15943418904,13824499015,18736913931,13452953894,18850557381,13925292429,18765126623,13616398655,15148214428,13986220229,15149365736,13984938185,15921436007,15043000908,13753672433,13764612308,18263459112,18701844886,15805930849,13540862089,13616196223,15833911865,15821479719,13635630058,15838876251,15891621334,15997228177,15800200909,15929157868,13915295037,13538343503,13664684119,14786173388,13986220625,13882180164,13504956305,13438820813,13510791231,13841941565,13554899248,15896671492,18220870098,18350290943,18779189202,13919314149,15861161917,15170492724,13924659293,13926160765,13832166088,13770111753,15981036662,15917195322,18255107126,13836291700,13687797234,13665366384,15104285321,15217089805,13776327574,15802457059,13777489972,13733866918,15096581012,13945697054,18773365191,15882901790,18746838901,13439974352,13627267868,13861768159,15173287233,18271889781,15736355853,13697919992,18790304531,13845041316,15008995862,13439176277,13717908901,13898726124,18741423699,15919942495,15097808950,13807666592,15942626213,15064686438,13523039047,15009802363,15141530122,13636976526,13987269229,13680097088,18767608673,18898774696,18251176620,13897519935,18878003366,18297317206,13558755948,13860834166,15804289700,15210463309,18211319296,13402998020,13822210422,18714660905,15983161394,18771018096,13819061952,15989413203,13659141810,15169453347,15948712042,18750925484,13489472357,13843239567,15940245422,15181109976,15181481410,13801464550,15018155820,18316561363,15046498676,18255193426,15924525995,18278401683,13898926294,15067038176,15827883928,15862675420,15248967969,15832187696,13983650553,15826297356,15915583550,15837172939,13860538954,18363690580,13591219518,15821203188,13869070870,15919198362,15208124568,13644114340,13596079602,15269665898,15942584970,13996906230,15094522358,18782916650,18817597190,13811448829,15986231258,18265666220,18204302800,15764956851,15989629356,13439122882,13672686400,13936583283,13612850854,13920429319,15949089667,13814721157,13628049082,13672028086,13574186774,15045643077,15955266759,15208330340,15948081708,15240190617,18814023677,15104991836,13706773284,13811395299,13844611405,13997823254,13842636476,13627126860,13682027643,18384777709,13703292496,13592099152,15943346455,13810410991,18706526028,13798253893,18298340131,13591261137,13867225293,13588042974,15045023402,13530417180,15088459525,15904015613,15887128564,13907346313,13983095401,15170485672,15083063791,13736246618,15227665516,15908158986,13478853032,15878061119,15916936833,15102817334,13531709380,13690681258,13691657814,15149322882,13829732985,15170582049,13529591170,13535426195,15185349915,15002764659,13659168931,18800439315,18271897823,15258352615,15956948283,15295276885,13625985555,18760253286,13729503244,15110481599,15736104838,13439074380,13738605129,15800095000,13655654000,18721606588,15759235495,13833796399,18863638887,13904686880,13638641157,18363900327,13898782566,15916157314,18353150968,13621609804,15206180864,13412950642,13617794971,15967410718,13576586751,15824555561,13548129379,13831443588,13450335771,15122675003,13913601155,15895169907,13562309705,18778814786,15295628960,15033649753,15040738754,15851019229,13944218202,13577440857,13511086330,18354102267,13722883817,13481458709,13638655101,13513116530,13428783180,13544263992,15055247850,13609527219,18723166910,15065616690,15988327937,13812781668,15036379643,15038598550,15934170536,15002876910,13756462899,15011435426,13627245382,18230161206,15820459856,15037931814,13535347432,15014481210,13971264835,15140909635,18355537359,18268805572,13458640721,15009587030,15259522573,15130368127,15257134686,18321835626,15158126322,13777500862,15188156639,13603587640,15006181504,15853521398,15063192281,13980413215,15170928771,13668916935,18758808133,14715665800,15077352629,15807252017,13691082196,15910230670,13591259698,13513345513,18857243686,15105366752,15915749213,13759756065,13628026078,18780010616,13975598802,13947291042,18745486917,18780306869,15903633913,18369659822,15125711653,15041471723,15973526848,13621649366,18328580784,15822826807,13532430402,15989311506,13798179529,15866346606,13919278970,18771877333,15896547782,15807407840,15938125719,13589718762,18255025085,13475476669,13848239902,13424378160,15006013402,13476793038,13619284347,13840511096,13927487215,15719161349,15972605305,13418646920,13411685218,18811720712,18780130199,13825201831,13680325282,13685871689,14780809317,13583519557,13959570154,13791990261,13852740158,18716887636,13858796720,18277701043,15033661177,17801005503,18776944158,13888568412,18296423933,15732815058,15186608935,18731523778,18364552995,13874402321,15067622536,13855983501,18701567327,15958587975,13889883117,15764536833,15124530168,13718348704,13669555853,18316613104,13452601469,15189992503,13438373168,15858185907,18363952633,15754170891,15247250614,13889880742,15064468270,14718440019,15937330255,18221485253,15937869347,15018888285,13855333813,13591481416,15198269618,15279487872,13883562310,18790795855,18206579901,13877492328,13538060832,18823848030,13897883581,13425533127,18288770451,15127925759,13825707395,13579956218,13590484780,13602582523,13848723745,15750852227,13606604422,15822517879,13880531783,13942114144,15103227380,13929005350,15953406752,15245471729,15884647503,18349259836,13817030709,13605657651,18774565115,15291068602,15868570627,15977477599,15042024224,13940547303,18836440527,18226822591,15022678782,13679701073,18211763130,15171885938,15189395293,15162254565,15114269608,15800052901,15861889144,15267819362,15042172063,13801920994,13523239721,15765576617,13893250321,18280040286,15841165339,13850098798,18228198183,15846526096,15890080731,15140372252,18857461894,13997246988,18238389367,13857495845,13898555009,15982309807,13896775963,13708769411,15142601923,18787062934,15839723084,13523798721,13658371660,17826812815,15251509787,13473441396,13998228639,13776729321,13915806870,13531148961,13599846481,15921340450,15021230299,15850436323,15940218766,15717516160,13653358456,18861526159,13876444961,15272361889,18254203093,13466400627,15826297539,14707487095,13913142711,13683165518,18736260408,13843440211,13598387895,18223967641,18807168875,15088895413,18752796816,13678774302,18762108427,13428688737,18378556334,18336787155,13592000656,15106351569,15033352886,13664540275,18772716666,15104986463,15215200125,15840508769,15755268262,18304181027,13841493334,13522153465,13675688193,15858866347,15864076433,13564992294,18382411842,13925487761,13724516552,15857783821,15071797173,13732994610,13881939661,15882955417,18253593303,15136457773,15989313662,13664181339,13510745069,15254528903,15210071442,18332013927,18842355722,13862116087,15730683960,13600876000,13629081252,17820482586,15897645005,15979176104,13566681019,18826585223,13755888674,15262898800,15901609036,13648364456,15921486775,13412995707,15210991311,18745247654,13562572456,18310305468,18281153638,18267270397,18774525667,18352387696,15152530858,13667080522,18804463677,13604320906,13904325131,18774994103,15870528288,13968009137,13983432212,15853856056,13590458820,13735705584,18355558332,15921547008,13556966101,13737457003,13672123418,18266140551,15271019225,15238580690,13465289345,13668669616,15004682273,13513465957,18831963090,15817292857,15197208822,18754759677,13537837781,13829165004,15062851595,13998957288,15953671790,15061589091,15897550886,15151660950,13823349912,13565805262,13455588378,15715333649,15116332880,13575723613,13510107304,13566789990,13698866071,13830165222,13704549714,13716859065,13986894566,13885201151,15285210346,18798046312,13998227068,13793395926,15905811145,15049224931,13826418755,15202493873,15935181290,15854372987,13756225045,13700040281,13591004073,15903264855,13828840427,18307389190,18248776590,18363676368,15974168485,15956727690,13541331455,18803472227,18390862799,13661996648,15167089966,18226771558,15934833639,15821299251,13974843357,13503317382,13720214625,18733231639,18703563287,13802807796,15009850008,13691882406,13504936413,15165014341,13551338637,13862335180,13432490466,15845969296,13833448807,13939555030,13877584159,13590496408,15018466767,13884824831,13682281910,13588036418,13845465137,13974331917,13592193861,15916504067,13487418223,13699755709,13758668952,15050905913,15837916876,13897829049,15979413998,13795026184,13525917259,13700014892,13684169666,15962151006,15918084182,18393745720,13540076421,13805368496,15845970138,15200639052,13478014949,15112462492,13682158278,18253691771,15827274725,18701335130,15855315530,13700057636,13675291310,15006115190,15965003763,18203231079,13965372929,13883088151,13799640318,15978921558,13689546723,15037602397,18207105699,13919418836,13806858581,18330550424,15888334385,13645598998,18872286463,13489144441,18395038189,13944079165,15896288390,15038088217,13854216568,15826039673,13935208953,15830029570,13533376838,15867118369,13774673733,18821282180,13532831941,15242547180,13874612784,18356055313,15940248021,18265675506,15139464011,15818402818,13920077823,18841612393,13937959156,13962527424,15822880386,13774246076,13552399878,15246463135,15925623680,18392160205,13511003460,15959786958,13631875130,13458266549,15830926398,13595115622,15927292808,18807798903,13570819180,13838837789,13685931456,15815864682,13995112122,15271998092,15202835863,13694594352,18202459694,15161721682,18353625903,13797216055,13831951317,13652307672,13797843056,13752249391,15877134496";
    	String content= "";
    	String str = "修改交易密码成功。【助通】";
    	for (int i = 0; i < 1000; i++) {
    		content += str+i+"※";
		}
    	System.out.println(content);
    	for (int i = 0; i < 1; i++) {
        	try {
				SMSUtil.sendSMS_ChinaNet1(mobile, content);
				
			} catch (Exception e) {
				System.out.println("exception:"+e.getMessage());
				e.printStackTrace();
			}
        }
    	
    }
 
    public static void main(String[] args) throws Exception {
    	
		//for (int i = 0; i < 1; i++) {
			//new Testdd("---" + i).start();
		//}
        System.out.println("start tiime:"+new SimpleDateFormat("yyyy-MM-dd HH:mm:ss:SSS").format(new Date(System.currentTimeMillis())));
		//发生短信 
        SMSUtil.sendSMS_ChinaNet1("18825155582",  "【义乌商城】您的本次验证码是（368859）。");
        //余额查询
        //search1("13148891874",  "【河粉工作室】换壳老板短信测试成功。");
        
    	System.out.println("start tiime:"+new SimpleDateFormat("yyyy-MM-dd HH:mm:ss:SSS").format(new Date(System.currentTimeMillis())));

    }
    
    public static int search1(String mobile,String content) throws Exception{
		
		Map<String, String> paramentMap = new LinkedHashMap<String, String>();
        paramentMap.put("username", "shangpin666");//用户名
		String strtime = new SimpleDateFormat("yyyyMMddHHmmss").format(System.currentTimeMillis());
        String pass = MD5.encode(MD5.encode("dbWwq5FX")+strtime);
		paramentMap.put("tkey",  strtime);
        paramentMap.put("password", pass);//加密后密码
        paramentMap.put("productid", "123123");//产品id
        paramentMap.put("mobile", mobile);//号码
        paramentMap.put("content",  content);//内容
        paramentMap.put("xh",  "");
        paramentMap.put("dstime",  "20160827");
        
        String status = "";
		//http://www.ztsms.cn:8800/sendManyNSms.do  多号码，多内容
		//http://www.ztsms.cn:8800/sendNSms.do      同内容，不同号码
        status = SMSUtil.sendHttpRequest16("http://www.ztsms.cn/balanceN.do", paramentMap, "UTF-8", "POST");
		System.out.println(status);
		return Integer.parseInt(status.split(",")[0]);
		
	}

}